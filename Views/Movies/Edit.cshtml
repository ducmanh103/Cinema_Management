@model CinemaManagement.Models.Movie
@{
    var genres = ViewBag.Genres as List<CinemaManagement.Models.Genre>;
    var selected = ViewBag.SelectedGenres as List<int>;
}

<h2>Edit Movie</h2>

<form asp-action="Edit" method="post">
    <input type="hidden" asp-for="MovieId" />

    <label>Title</label>
    <input asp-for="Title" class="form-control" />

    <label>Duration</label>
    <input asp-for="Duration" class="form-control" />

    <label>Status</label>
    <input asp-for="Status" class="form-control" />

    <label>Genres</label>
    @foreach (var g in genres)
    {
        <div>
            <input type="checkbox" name="selectedGenres" value="@g.GenreId"
                   @(selected.Contains(g.GenreId) ? "checked" : "") />
            @g.GenreName
        </div>
    }

    <button type="submit" class="btn btn-primary mt-2">Update</button>
</form>
